<section class="haber-kategori" id="guncel">
    <h2>ğŸ•“ GÃ¼ncel</h2>
    <div class="haber-grid" id="guncelHaberler"></div>
</section>

<section class="haber-kategori" id="politika">
    <h2>ğŸ›ï¸ Politika</h2>
    <div class="haber-grid" id="politikaHaberler"></div>
</section>

<section class="haber-kategori" id="ekonomi">
    <h2>ğŸ’° Ekonomi</h2>
    <div class="haber-grid" id="ekonomiHaberler"></div>
</section>

<section class="haber-kategori" id="spor">
    <h2>âš½ Spor</h2>
    <div class="haber-grid" id="sporHaberler"></div>
</section>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "API_KEYÄ°NÄ°Z",
  authDomain: "azadhaber1.firebaseapp.com",
  databaseURL: "https://azadhaber1-default-rtdb.firebaseio.com",
  projectId: "azadhaber1",
  storageBucket: "azadhaber1.appspot.com",
  messagingSenderId: "307978936562",
  appId: "1:307978936562:web:7eb007183210681d306b"
};
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const kategoriler = ["guncel","politika","ekonomi","spor"];

kategoriler.forEach(cat=>{
    const container = document.getElementById(cat + "Haberler");
    const newsRef = ref(db,"haberler/"+cat);
    onValue(newsRef, snapshot=>{
        container.innerHTML = "";
        snapshot.forEach(child=>{
            const h = child.val();
            const article = document.createElement("article");
            article.className = "haber";
            article.innerHTML = `
                <img src="${h.image}" alt="Haber GÃ¶rseli">
                <h3>${h.title}</h3>
                <p>${h.content.substring(0,100)}...</p>
                <a href="haber/haber_detay.html?slug=${h.slug}">Haberi Oku</a>
            `;
            container.appendChild(article);
        });
    });
});
</script>
